

/*
DB 삭제 스크립트, 문제 발생시 롤백 처리
- 이 스크립트를 실행할 일을 만들지 말아야 한다.

두번 실행할때의 처리, 만일 기존 테이블의 완전 삭제시 별도 drop 
mariadb는 대소문자를 가리지 않아, 대소문자 구문 무의미, 

*/

USE STOCK_DBB_BULK;

/*SHOW TABLES;*/

---------------------------------------------------------------------------------------------------------------------------------------

/*일자별 로그, 삭제 2012 ~ 2022, 매년 1개 생성*/

/* 2012 일자별 로그 */
DROP INDEX UIX_BULK_DATE_2012_CODE_DATE_PRICE ON DAILY_BULK_DATA_2012;
DROP INDEX UIX_BULK_DATE_2012_CODE_DATE_VOLUME ON DAILY_BULK_DATA_2012;

DROP TABLE IF EXISTS DAILY_BULK_DATA_2012;

/* 2013 일자별 로그 */
DROP INDEX UIX_BULK_DATE_2013_CODE_DATE_PRICE ON DAILY_BULK_DATA_2013;
DROP INDEX UIX_BULK_DATE_2013_CODE_DATE_VOLUME ON DAILY_BULK_DATA_2013;

DROP TABLE IF EXISTS DAILY_BULK_DATA_2013;

/* 2014 일자별 로그 */
DROP INDEX UIX_BULK_DATE_2014_CODE_DATE_PRICE ON DAILY_BULK_DATA_2014;
DROP INDEX UIX_BULK_DATE_2014_CODE_DATE_VOLUME ON DAILY_BULK_DATA_2014;

DROP TABLE IF EXISTS DAILY_BULK_DATA_2014;

/* 2015 일자별 로그 */
DROP INDEX UIX_BULK_DATE_2015_CODE_DATE_PRICE ON DAILY_BULK_DATA_2015;
DROP INDEX UIX_BULK_DATE_2015_CODE_DATE_VOLUME ON DAILY_BULK_DATA_2015;

DROP TABLE IF EXISTS DAILY_BULK_DATA_2015;

/* 2016 일자별 로그 */
DROP INDEX UIX_BULK_DATE_2016_CODE_DATE_PRICE ON DAILY_BULK_DATA_2016;
DROP INDEX UIX_BULK_DATE_2016_CODE_DATE_VOLUME ON DAILY_BULK_DATA_2016;

DROP TABLE IF EXISTS DAILY_BULK_DATA_2016;

/* 2017 일자별 로그 */
DROP INDEX UIX_BULK_DATE_2017_CODE_DATE_PRICE ON DAILY_BULK_DATA_2017;
DROP INDEX UIX_BULK_DATE_2017_CODE_DATE_VOLUME ON DAILY_BULK_DATA_2017;

DROP TABLE IF EXISTS DAILY_BULK_DATA_2017;

/* 2018 일자별 로그 */
DROP INDEX UIX_BULK_DATE_2018_CODE_DATE_PRICE ON DAILY_BULK_DATA_2018;
DROP INDEX UIX_BULK_DATE_2018_CODE_DATE_VOLUME ON DAILY_BULK_DATA_2018;

DROP TABLE IF EXISTS DAILY_BULK_DATA_2018;

/* 2019 일자별 로그 */
DROP INDEX UIX_BULK_DATE_2019_CODE_DATE_PRICE ON DAILY_BULK_DATA_2019;
DROP INDEX UIX_BULK_DATE_2019_CODE_DATE_VOLUME ON DAILY_BULK_DATA_2019;

DROP TABLE IF EXISTS DAILY_BULK_DATA_2019;


/* 2020 일자별 로그 */
DROP INDEX UIX_BULK_DATE_2020_CODE_DATE_PRICE ON DAILY_BULK_DATA_2020;
DROP INDEX UIX_BULK_DATE_2020_CODE_DATE_VOLUME ON DAILY_BULK_DATA_2020;

DROP TABLE IF EXISTS DAILY_BULK_DATA_2020;

/* 2021 일자별 로그 */
DROP INDEX UIX_BULK_DATE_2021_CODE_DATE_PRICE ON DAILY_BULK_DATA_2021;
DROP INDEX UIX_BULK_DATE_2021_CODE_DATE_VOLUME ON DAILY_BULK_DATA_2021;

DROP TABLE IF EXISTS DAILY_BULK_DATA_2021;

/* 2022 일자별 로그 */
DROP INDEX UIX_BULK_DATE_2022_CODE_DATE_PRICE ON DAILY_BULK_DATA_2022;
DROP INDEX UIX_BULK_DATE_2022_CODE_DATE_VOLUME ON DAILY_BULK_DATA_2022;

DROP TABLE IF EXISTS DAILY_BULK_DATA_2022;

/* 2023 일자별 로그 */
DROP INDEX UIX_BULK_DATE_2023_CODE_DATE_PRICE ON DAILY_BULK_DATA_2023;
DROP INDEX UIX_BULK_DATE_2023_CODE_DATE_VOLUME ON DAILY_BULK_DATA_2023;

DROP TABLE IF EXISTS DAILY_BULK_DATA_2023;

/* 2024 일자별 로그 */
DROP INDEX UIX_BULK_DATE_2024_CODE_DATE_PRICE ON DAILY_BULK_DATA_2024;
DROP INDEX UIX_BULK_DATE_2024_CODE_DATE_VOLUME ON DAILY_BULK_DATA_2024;

DROP TABLE IF EXISTS DAILY_BULK_DATA_2024;

/* 2025 일자별 로그 */
DROP INDEX UIX_BULK_DATE_2025_CODE_DATE_PRICE ON DAILY_BULK_DATA_2025;
DROP INDEX UIX_BULK_DATE_2025_CODE_DATE_VOLUME ON DAILY_BULK_DATA_2025;

DROP TABLE IF EXISTS DAILY_BULK_DATA_2025;

/* 일자별 로그 View */
DROP VIEW VIEW_DAILY_BULK_DATA;

/* 중간 종료 - script에서는 EXTI 구문을 권장하지 않는다. */
/*EXIT*/
